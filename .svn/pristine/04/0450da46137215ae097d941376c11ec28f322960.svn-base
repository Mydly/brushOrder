import React, { Component, PropTypes } from 'react'
import { connect } from 'react-redux';
import { loginAction } from '../../actions/topNav'
import Config from '../../config/consts'

import { isMobile, isPassword, alog } from '../../function/common'
import { AlertType } from '../../config/consts'
import Action, { art } from '../../actions/topNav'
import Charge from './Charge'
import ChargeLog from './ChargeLog'

import '../../static/style/common.scss'
import '../../static/style/antd_tab.scss'

import { Tab, Row, Col, Nav, MenuItem, NavItem } from 'react-bootstrap'


class FinanCharge extends Component {

    constructor(props) {
        super(props);
        this.handleChangeTab = this.handleChangeTab.bind(this);

    }

    handleChangeTab(tabIndex) {
        //e.preventDefault();
        this.props.changeTab(tabIndex-1);
    }


    componentWillUpdate(){

    }

    render() {
        //let Content = this.props.finanChargeTab == 0 ? <Charge /> : <ChargeLog />;

        return (
            <Tab.Container id="left-tabs-example" defaultActiveKey="first">
                <Row className="clearfix">
                    <Col sm={2}>
                        <Nav bsStyle="pills" stacked>
                            <NavItem eventKey="first">
                                充值
                            </NavItem>
                            <NavItem eventKey="second">
                                充值记录
                            </NavItem>
                        </Nav>
                    </Col>
                    <Col sm={8}>
                        <Tab.Content animation>
                            <Tab.Pane eventKey="first">
                                <Charge />
                            </Tab.Pane>
                            <Tab.Pane eventKey="second">
                                <ChargeLog />
                            </Tab.Pane>
                        </Tab.Content>
                    </Col>
                </Row>
            </Tab.Container>
        );
    }

}

FinanCharge.propTypes = {
    loginClick: PropTypes.func,
}

const mapDispatchToProps = (dispatch) => {
    return {
        changeTab:(index)=>{
            dispatch(Action.changeFinanChargeTab(index))
        }
    }
}

const mapStateToProps = (state) => {
    return {
        finanChargeTab:state.topNav.finanChargeTab
    }
}



export default connect(mapStateToProps,mapDispatchToProps)(FinanCharge);