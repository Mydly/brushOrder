import { Nav, Login, API } from '../config/consts';

export default function changeTab(state = { tabBar:"index",lastTab:"index" }, action) {

    switch (action.type){
        case Nav.changeTab:
        {
            return Object.assign({}, state, {tabBar:action.item,lastTab:state.tabBar});
        }
        case Login.logining:
        {
            return Object.assign({}, state, {loginState:Login.logining});
        }
        case Login.loginSuc:
        {
            return Object.assign({}, state, {loginState:Login.loginSuc,loginRes:action.res,tabBar:state.lastTab});
        }
        case Login.loginFail:
        {
            return Object.assign({}, state, {loginState:Login.loginFail,loginRes:action.res});
        }
        case API.startGetUserInfo:
        {
            return Object.assign({}, state, {loading:true,msg:"登录中"});
        }
        case API.successGetUserInfo:
        {
            return Object.assign({}, state, {loading:false,userinfo:action.res});
        }
        default:
            return state;
    }
}
