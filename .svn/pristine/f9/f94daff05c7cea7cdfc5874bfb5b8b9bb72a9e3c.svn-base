import React from 'react'
import {  HashRouter as Router, Link} from 'react-router-dom'
import '../../static/style/common.scss';
import '../../static/style/nav-css.scss';
import { connect } from 'react-redux';
import Finan from './Finan';
import { changeTab, tabChangeAction } from '../../actions/topNav';
import CONSTS  from  '../../config/consts'



class Nav extends React.Component {

    constructor(props) {
        super(props);
        this.handleClick = this.handleClick.bind(this);

        console.log(props);

    }

    handleClick(key) {

            const {change} = this.props;
            change(key);

    }

    render() {

        //let menuArr = [
        //    {title:"首页",key:PageKey.index.key},
        //    {title:"交易中心",key:PageKey.trade.key},
        //    {title:"安全中心",key:PageKey.safe.key,child:[
        //        {title:"账户预览",key:PageKey.safeAccount.key},
        //        {title:"登录密码",key:PageKey.safePsd.key},
        //        {title:"收货地址",key:PageKey.safeAddress.key}
        //    ]},
        //    {title:"财务中心",key:PageKey.finan.key,child:[
        //        {title:"我的财产",key:PageKey.finanInfo.key},
        //        {title:"账户充值",key:PageKey.finanCharge.key},
        //        {title:"账户提现",key:PageKey.finanMoney.key},
        //        {title:"虚拟币转入",key:PageKey.finanIn.key},
        //        {title:"虚拟币转出",key:PageKey.finanOut.key}
        //    ]},
        //    {title:"认购中心",key:PageKey.issue.key},
        //    {title:"理财中心",key:PageKey.money.key},
        //    {title:"新币投票",key:PageKey.vote.key}
        //];
        //
        //let menuList = menuArr.map(
        //    (item) => {
        //        if(item.child == undefined){
        //            return <Menu.Item className="noneSelect" key={item.key} style={{  }}>{item.title}</Menu.Item>;
        //        }
        //        else {
        //           return (<SubMenu  className="noneSelect" title={item.title} key={item.key}>
        //               {item.child.map(
        //                   (item2) =>
        //                       ( <Menu.Item  className="noneSelect" key={item2.key}>{item2.title}</Menu.Item>)
        //               )}
        //           </SubMenu>);
        //        }
        //    }
        //
        //);

        //console.log(menuList);


        //<Menu className="navMenuBody" theme="light" mode="inline"
        //      style={{ width: 180, }} defaultSelectedKeys={[PageKey.index.key]}
        //      onClick={this.handleClick}
        //>
        //    { menuList }
        //</Menu>



        let tabBar = this.props.tabBar;

        console.log('============='+tabBar);

        let menuList = CONSTS.pageKey.daohang.map((item)=>{
            return <div
                    className={ item.key == tabBar ? "menu active" : "menu"}
                    onClick={this.handleClick.bind(this,item.key)}
                    key={item.key}
                    >{item.title}</div>
        });

        return (
                <div className="NavMenu">
                    <div className="menu">
                        {menuList}
                    </div>
                    <div className="login">
                        <div>登录</div>
                        <div>注册</div>
                    </div>
                </div>
        );
    }
}

const stateMaptoProps = (state) =>{
    return {
        tabBar:state.topNav.tabBar
    }
}

const mapDispatchToProps = (dispatch) => {
    return {
        change:(tab) => {
        dispatch(tabChangeAction(tab))
    }}
}

export default connect(stateMaptoProps,mapDispatchToProps)(Nav);